---
// Blog Card Component - Now uses StandardCard for consistency
import StandardCard from '../ui/StandardCard.astro';

export interface Props {
  post: {
    id: string;
    data: {
      title: string;
      excerpt: string;
      author: string;
      publishedDate: Date;
      category: string;
      featuredImage: string;
      featuredImageAlt: string;
      readingTime?: number;
      featured?: boolean;
    };
  };
  showFeaturedBadge?: boolean;
}

const { post, showFeaturedBadge = false } = Astro.props;

// Format date and meta information
const formatDate = (date: Date) => {
  return new Intl.DateTimeFormat('en-US', {
    year: 'numeric',
    month: 'short',
    day: 'numeric'
  }).format(date);
};

// Create meta string with author, date, and reading time
const metaParts = [post.data.author, formatDate(post.data.publishedDate)];
if (post.data.readingTime) {
  metaParts.push(`${post.data.readingTime} min read`);
}
const meta = metaParts.join(' â€¢ ');
---

<StandardCard 
  title={post.data.title}
  excerpt={post.data.excerpt}
  image={post.data.featuredImage || '/images/blog/placeholder.svg'}
  imageAlt={post.data.featuredImageAlt || post.data.title}
  href={`/blog/${post.id.replace('.md', '')}`}
  category={post.data.category}
  featured={post.data.featured}
  meta={meta}
  showFeaturedBadge={showFeaturedBadge}
  showCategoryBadge={!showFeaturedBadge}
/>
