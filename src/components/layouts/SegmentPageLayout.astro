---
// Segment Page Layout Component - Based on FeaturePageLayout structure
import Layout from '../../layouts/Layout.astro';
import Header from '../Header.astro';
import Footer from '../Footer.astro';
import TrustedBySection from '../sections/TrustedBySection.astro';
import SecuritySection from '../sections/SecuritySection.astro';
import TestimonialSection from '../sections/TestimonialSection.astro';
import CTASection from '../sections/CTASection.astro';
import CookieBanner from '../ui/CookieBanner.astro';
import Breadcrumb from '../ui/Breadcrumb.astro';
import StandardButton from '../ui/StandardButton.astro';
import PageHeroSection from '../sections/PageHeroSection.astro';

export interface Props {
  // SEO Meta
  pageTitle: string;
  pageDescription: string;
  keywords?: string;

  // Hero Section
  segmentName: string;
  title: string;
  subtitle: string;
  heroImage: string;
  heroImageAlt: string;

  // Main intro section
  mainTitle: string;
  mainSubtitle: string;

  // Main Content Sections
  sections: Array<{
    id: string;
    sectionHeader: string;
    title: string;
    description: string;
    bulletPoints: Array<{
      text: string;
    }>;
    image: string;
    imageAlt: string;
    imagePosition: 'left' | 'right';
  }>;

  // Productivity Section
  productivityStats: Array<{
    value: string;
    label: string;
  }>;
}

const {
  pageTitle,
  pageDescription,
  keywords,
  segmentName,
  title,
  subtitle,
  heroImage,
  heroImageAlt,
  mainTitle,
  mainSubtitle,
  sections,
  productivityStats
} = Astro.props;

// Generate structured data for the segment
const siteUrl = Astro.site?.toString() || 'https://investipal.co';
const currentUrl = new URL(Astro.url.pathname, siteUrl).toString();

const segmentStructuredData = {
  "@context": "https://schema.org",
  "@type": "Service",
  "name": `${segmentName} Software Solutions`,
  "description": pageDescription,
  "provider": {
    "@type": "Organization",
    "name": "Investipal",
    "url": siteUrl,
    "logo": `${siteUrl}/images/logo.png`
  },
  "serviceType": "Financial Technology Software",
  "audience": {
    "@type": "Audience",
    "audienceType": segmentName
  },
  "url": currentUrl,
  "offers": {
    "@type": "Offer",
    "description": `Professional software solutions for ${segmentName.toLowerCase()}`,
    "availability": "https://schema.org/InStock"
  }
};

// Generate breadcrumb items
const breadcrumbItems = [
  { name: 'Home', href: '/' },
  { name: 'Solutions', href: '/segments' },
  { name: segmentName }
];
---

<Layout title={pageTitle} description={pageDescription} keywords={keywords}>
  <!-- Segment Service Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(segmentStructuredData)} />
  <Header />
  <Breadcrumb items={breadcrumbItems} />
  <main id="main">
    
    <!-- Hero Section - Using Standardized Component -->
    <PageHeroSection 
      audienceText={segmentName}
      title={title}
      subtitle={subtitle}
      heroImage={heroImage}
      heroImageAlt={heroImageAlt}
    />

    <!-- Trusted By Section -->
    <TrustedBySection />

    <!-- Main Title Section - Enhanced with visual effects -->
    <section class="relative bg-white py-20 overflow-hidden">
      <!-- Subtle background pattern -->
      <div class="absolute inset-0 bg-gradient-to-r from-gray-50/30 via-white to-gray-50/30"></div>
      
      <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center max-w-4xl mx-auto">
          <!-- Standardized icon with light background -->
          <div class="inline-flex items-center justify-center w-16 h-16 bg-investipal-100 rounded-xl mb-8 shadow-lg group hover:scale-[1.02] transition-all duration-500 ease-out">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-investipal-600 group-hover:scale-[1.02] transition-all duration-500 ease-out">
              <path d="M9 17.5H3.5M6.5 12H2M9 6.5H4M17 3L10.4036 12.235C10.1116 12.6438 9.96562 12.8481 9.97194 13.0185C9.97744 13.1669 10.0486 13.3051 10.1661 13.3958C10.3011 13.5 10.5522 13.5 11.0546 13.5H16L15 21L21.5964 11.765C21.8884 11.3562 22.0344 11.1519 22.0281 10.9815C22.0226 10.8331 21.9514 10.6949 21.8339 10.6042C21.6989 10.5 21.4478 10.5 20.9454 10.5H16L17 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </div>
          
          <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-6 leading-tight">{mainTitle}</h2>
          <p class="text-lg md:text-xl text-gray-600 leading-relaxed max-w-3xl mx-auto">{mainSubtitle}</p>
        </div>
      </div>
    </section>

    <!-- Content Sections - Enhanced with visual appeal -->
    {sections.map((section, index) => (
      <section class={`py-20 ${index % 2 === 0 ? 'bg-white' : 'bg-gray-50/50'}`}>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class={`grid lg:grid-cols-2 gap-16 items-center ${section.imagePosition === 'left' ? 'lg:grid-flow-col-dense' : ''}`}>
            
            <!-- Content -->
            <div class={section.imagePosition === 'left' ? 'lg:col-start-2' : ''}>
              <!-- Enhanced section header with badge style -->
              <div class="inline-flex items-center bg-investipal-50 rounded-full px-4 py-2 mb-6">
                <div class="w-2 h-2 bg-investipal-600 rounded-full mr-2"></div>
                <span class="text-sm font-semibold text-investipal-600 tracking-wide">
                  {section.sectionHeader}
                </span>
              </div>
              
              <h3 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-6 leading-tight" set:html={section.title}></h3>
              <div class="text-xl text-gray-600 mb-8 leading-relaxed" set:html={section.description}></div>
              
              <!-- Enhanced bullet points with better styling -->
              <ul class="space-y-6">
                {section.bulletPoints.map((point) => (
                  <li class="flex items-start">
                    <div class="flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-3 mt-1">
                      <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                      </svg>
                    </div>
                    <span class="text-gray-700" set:html={point.text}></span>
                  </li>
                ))}
              </ul>
            </div>
            
            <!-- Enhanced Image with smooth effects -->
            <div class={section.imagePosition === 'left' ? 'lg:col-start-1' : ''}>
              <div class="relative group">
                <img src={section.image} alt={section.imageAlt} class="w-full rounded-2xl shadow-2xl border border-gray-200/50 group-hover:scale-[1.02] transition-all duration-700 ease-out" loading="lazy">
                <!-- Subtle glow effect -->
                <div class="absolute inset-0 bg-gradient-to-r from-investipal-600/3 to-investipal-700/3 rounded-2xl blur-xl scale-105 -z-10 opacity-0 group-hover:opacity-100 transition-all duration-700 ease-out"></div>
              </div>
            </div>
            
          </div>
        </div>
      </section>
    ))}

    <!-- Productivity Section - Contained with gradient background -->
    <section class="py-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="relative bg-gradient-to-br from-investipal-600 via-investipal-700 to-investipal-800 rounded-2xl lg:rounded-3xl p-8 lg:p-12 xl:p-16 overflow-hidden">
          <!-- Background pattern/decoration -->
          <div class="absolute inset-0 bg-gradient-to-r from-investipal-600/20 to-transparent"></div>
          <div class="absolute top-0 right-0 w-96 h-96 bg-investipal-500/10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"></div>
          <div class="absolute bottom-0 left-0 w-96 h-96 bg-investipal-400/10 rounded-full blur-3xl transform -translate-x-1/2 translate-y-1/2"></div>
          
          <div class="relative">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <!-- Left Column -->
          <div>
            <div class="inline-flex items-center bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6">
              <div class="w-2 h-2 bg-white rounded-full mr-3 animate-pulse"></div>
              <span class="text-sm font-medium text-white">Productivity</span>
            </div>
            <h2 class="text-3xl md:text-4xl font-bold text-white mb-6 leading-tight">
              Spend more time advising and 
              <span class="text-investipal-200">less time on admin</span>
            </h2>
          </div>
          
          <!-- Right Column -->
          <div>
            <p class="text-xl text-investipal-100 mb-10 leading-relaxed">Free up your time to spend on higher-value activities.</p>
            
            <div class="grid grid-cols-2 gap-6 mb-10">
              {productivityStats.map((stat) => (
                                  <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-500 ease-out transform hover:scale-[1.02]">
                  <div class="text-5xl font-bold text-white mb-3 bg-gradient-to-r from-white to-investipal-100 bg-clip-text text-transparent">
                    {stat.value}
                  </div>
                  <div class="text-investipal-100 leading-relaxed">{stat.label}</div>
                </div>
              ))}
            </div>
            
                            <StandardButton variant="white">Schedule a Demo</StandardButton>
          </div>
        </div>
      </div>
    </section>

    <!-- Related Features Section -->
    <section class="bg-white py-16">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Explore Our Key Features</h2>
          <p class="text-lg text-gray-600">Powerful tools designed specifically for {segmentName.toLowerCase()}</p>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          <a href="/features/automated-statement-scanner" class="group bg-gray-50 rounded-lg p-6 hover:bg-investipal-50 transition-colors">
            <div class="flex items-center mb-4">
              <div class="w-12 h-12 bg-investipal-100 rounded-lg flex items-center justify-center mr-4">
                <svg class="w-6 h-6 text-investipal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-investipal-600 transition-colors">Statement Scanner</h3>
            </div>
            <p class="text-gray-600">Extract and analyze client portfolio data from any statement format instantly</p>
          </a>
          
          <a href="/features/asset-allocation" class="group bg-gray-50 rounded-lg p-6 hover:bg-investipal-50 transition-colors">
            <div class="flex items-center mb-4">
              <div class="w-12 h-12 bg-investipal-100 rounded-lg flex items-center justify-center mr-4">
                <svg class="w-6 h-6 text-investipal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-investipal-600 transition-colors">Portfolio Optimization</h3>
            </div>
            <p class="text-gray-600">AI-powered asset allocation across public and alternative investments</p>
          </a>
          
          <a href="/features/client-acquisition" class="group bg-gray-50 rounded-lg p-6 hover:bg-investipal-50 transition-colors">
            <div class="flex items-center mb-4">
              <div class="w-12 h-12 bg-investipal-100 rounded-lg flex items-center justify-center mr-4">
                <svg class="w-6 h-6 text-investipal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-investipal-600 transition-colors">Client Acquisition</h3>
            </div>
            <p class="text-gray-600">Automate proposals, risk assessment, and prospect conversion</p>
          </a>
          
          <a href="/features/risk-management" class="group bg-gray-50 rounded-lg p-6 hover:bg-investipal-50 transition-colors">
            <div class="flex items-center mb-4">
              <div class="w-12 h-12 bg-investipal-100 rounded-lg flex items-center justify-center mr-4">
                <svg class="w-6 h-6 text-investipal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-investipal-600 transition-colors">Risk Management</h3>
            </div>
            <p class="text-gray-600">Real-time risk monitoring and automated portfolio rebalancing</p>
          </a>
          
          <a href="/features/regulation-best-interest-generator" class="group bg-gray-50 rounded-lg p-6 hover:bg-investipal-50 transition-colors">
            <div class="flex items-center mb-4">
              <div class="w-12 h-12 bg-investipal-100 rounded-lg flex items-center justify-center mr-4">
                <svg class="w-6 h-6 text-investipal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-investipal-600 transition-colors">Reg BI Compliance</h3>
            </div>
            <p class="text-gray-600">Automated compliance documentation and disclosure generation</p>
          </a>
          
          <a href="/features/investment-policy-statements" class="group bg-gray-50 rounded-lg p-6 hover:bg-investipal-50 transition-colors">
            <div class="flex items-center mb-4">
              <div class="w-12 h-12 bg-investipal-100 rounded-lg flex items-center justify-center mr-4">
                <svg class="w-6 h-6 text-investipal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-investipal-600 transition-colors">IPS Generator</h3>
            </div>
            <p class="text-gray-600">Generate personalized Investment Policy Statements with AI</p>
          </a>
        </div>
        
        <div class="text-center mt-12">
          <a href="/features" class="inline-flex items-center text-investipal-600 font-semibold hover:text-investipal-700 transition-colors">
            Explore All Features
            <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>
      </div>
    </section>

    <!-- Standard Footer Sections -->
    <SecuritySection />
    <TestimonialSection />
    <CTASection />

  </main>
  <Footer />
  <CookieBanner />
</Layout>

<style>
  /* Custom animations for enhanced visual appeal */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Enhanced focus states */
  .group:focus-within {
    outline: 2px solid #7c3aed;
    outline-offset: 2px;
  }

  /* Subtle animation on load */
  .animate-fadeInUp {
    animation: fadeInUp 0.6s ease-out forwards;
    opacity: 0;
  }

  /* Floating animation for decorative elements */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  /* Enhanced image hover effects */
  .group:hover img {
    filter: brightness(1.02);
  }

  /* Smooth transitions for all interactive elements */
  * {
    transition-property: transform, opacity, filter, box-shadow;
    transition-duration: 500ms;
    transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    * {
      transition-duration: 0.01ms !important;
      animation-duration: 0.01ms !important;
    }
  }
</style>