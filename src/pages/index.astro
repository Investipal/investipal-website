---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import HeroSection from '../components/sections/HeroSection.astro';
import TrustedBySection from '../components/sections/TrustedBySection.astro';
import ProblemsSection from '../components/sections/ProblemsSection.astro';
import SolutionSection from '../components/sections/SolutionSection.astro';
import FeaturesSection from '../components/sections/FeaturesSection.astro';
import WorkflowSection from '../components/sections/WorkflowSection.astro';
import IntegrationsSection from '../components/sections/IntegrationsSection.astro';
import BlogSection from '../components/sections/BlogSection.astro';
import CTASection from '../components/sections/CTASection.astro';
import Footer from '../components/Footer.astro';
import CookieBanner from '../components/ui/CookieBanner.astro';

// Organization structured data for homepage
const siteUrl = Astro.site?.toString() || 'https://investipal.co';

const organizationStructuredData = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Investipal",
  "description": "AI-powered financial advisor software with automated portfolio construction, compliance management, and client onboarding.",
  "url": siteUrl,
  "logo": `${siteUrl}/images/logo.png`,
  "sameAs": [
    "https://linkedin.com/company/investipal"
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "contactType": "customer service",
    "url": `${siteUrl}/contact`
  }
};
---

<Layout 
  title="Investipal: All-in-One Wealth Management Software for RIAs"
  description="All-in-one wealth management platform for RIAs. Portfolio management, CRM, AI-powered IPS builder, rebalancing & risk analytics. Streamline your practice and grow your AUM."
  keywords="wealth management software, RIA software, portfolio management software, financial advisor CRM, IPS builder, risk management software, all-in-one advisor platform, fee-only advisor software"
>
  <!-- Organization Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(organizationStructuredData)} />
  <Header />
  <main id="main">
    <HeroSection />
    <TrustedBySection />
    <ProblemsSection />
    <SolutionSection />
    <FeaturesSection />
    <WorkflowSection />
    <IntegrationsSection />
    <BlogSection />
    <CTASection />
  </main>
  <Footer />
  <CookieBanner />
</Layout>
